@startuml
actor User
participant UserInterface
participant SmartPlugController
participant IOTDeviceFacadeImpl
participant SmartPlug
participant PowerConsumptionMonitor

User -> UserInterface : interact
UserInterface -> SmartPlugController : display_status
User -> UserInterface : set priorities
UserInterface -> SmartPlugController : set_strategy(strategy)
User -> UserInterface : connect_device
UserInterface -> SmartPlugController : connect_device(device_id)
SmartPlugController -> IOTDeviceFacadeImpl : connect_device(device_id)
IOTDeviceFacadeImpl -> SmartPlug : connect()
User -> UserInterface : check_device_health
UserInterface -> SmartPlugController : check_device_health(device_id)
SmartPlugController -> IOTDeviceFacadeImpl : check_device_health(device_id)
IOTDeviceFacadeImpl -> SmartPlug : check_health()

UserInterface -> SmartPlugController : set_power_consumption(device_id, power)
SmartPlugController -> IOTDeviceFacadeImpl : set_power_consumption(device_id, power)
IOTDeviceFacadeImpl -> SmartPlug : set_power_consumption(power)
SmartPlug -> PowerConsumptionMonitor : notify_observers()
PowerConsumptionMonitor -> SmartPlugController : update(device_id, power_consumption)

UserInterface -> User : display updated status
@enduml
